# clientServerApp
Клиент-серверное приложение для хранилища данных, в котором пользователи смогут загружать данные на сервер.

## ОСОБЕННОСТИ ПРОЕКТА

1. Учтена возможность загрузки очень большого файла. Использовала потоковую передачу данных: для клиентской части пакет `io` с функцией `Pipe` для создания потока данных, который передается в multipart.Writer. Это позволяет загружать данные частями, не занимая всю память. Для серверной части также пакет `io` с функцией `Copy` для обработки входящего запроса, который читает данные из запроса и записывает их непосредственно на диск, что также экономит память.
2. Docker-compose для организации работы нескольких контейнеров(клиента и сервера) вместе. 
3. Использование фреймворка Gin для создания REST API.
4. Регистрация пользователя и хэширование пароля.
5. Аутентификация пользователя через JWT: Middleware проверяет, существует ли токен в запросе. Реализовано для защиты маршрутов загрузки и скачивания файлов.
6. PostgreSQL для хранения в БД данных о пользователях (логин, пароль)
7. Миграции для поддержки БД в актуальном состоянии.

## ТРЕБОВАНИЯ
- Go 1.22 или выше
- Postman (опционально, для тестирования API)
- Docker (для сборки приложения)

## ЗАПУСК ПРИЛОЖЕНИЯ С ПОМОЩЬЮ DOCKER
1. Склонировать проект с github с помощью http, перейти в корневую директорию.
2. Запустить контейнеры: `docker compose up -d`
3. Пройти регистрацию: `docker-compose run client ./cli -register -login user -password test -url http://server:8080`
4. Пройти аутентификацию: `docker-compose run client ./cli -auth -login user -password test -url http://server:8080`
5. Скопировать свой текстовый файл в рабочий каталог app: `docker cp /your/path/file.txt clientserverapp-client-1:/app/file.txt`
6. Загрузить файл: `docker-compose exec client ./cli -upload /app/file.txt -token your_token -url http://server:8080`
7. Скачать файл: `docker-compose exec client ./cli -download file.txt -token your_token -url http://server:8080`

Команды run и exec выполняются изолированно друг от друга, поэтому нужно прерывать сеанс терминала после успешного выполнения команды с помощью CTRL + C.

## Что можно улучшить в будущем:
- Написать тесты
- Возможность обновлять информацию в бд по пользователям: какие файлы загружены, скачаны, вес файлов и тп.
- Оптимизировать код для быстрой работы.
- Учесть возможность загрузки других форматов.
- Запуск приложения через test.sh